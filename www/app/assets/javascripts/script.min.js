
$(function() {
    function e() {
        var e = window.navigator.userAgent.toLowerCase();
        if (-1 != e.indexOf("opera") || -1 != e.indexOf("opr")) {
            var t, a;
            return t = /(opera|opr\/?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "opera opera" + a
        }
        if (-1 != e.indexOf("msie") || -1 != e.indexOf("trident")) {
            var t, a;
            return t = /(msie|rv:?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "ie ie" + a
        }
        if (-1 != e.indexOf("edge")) {
            var t, a;
            return t = /(edge\/?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "edge edge" + a
        }
        if (-1 != e.indexOf("chrome")) {
            var t, a;
            return t = /(chrome|chrome\/?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "chrome chrome" + a
        }
        if (-1 != e.indexOf("safari")) {
            var t, a;
            return t = /(safari|version\/?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "safari safari" + a
        }
        if (-1 != e.indexOf("firefox")) {
            var t, a;
            return t = /(firefox|rv:?)\s?([\d\.]+)/.exec(e), a = t ? parseInt(t[2]) : "", "firefox firefox" + a
        }
        return ""
    }

    function t() {
        var e = window.navigator.userAgent.toLowerCase();
        return -1 !== e.indexOf("iphone") ? "iphone" : -1 !== e.indexOf("ipad") ? "ipad" : -1 !== e.indexOf("android") ? "android" : -1 !== e.indexOf("silk") ? "kindle" : -1 !== e.indexOf("playbook") || -1 !== e.indexOf("bb10") ? "blackberry" : !1
    }

    function a() {
        c(), l();
        var e = $("#js-container");
        winT = e.scrollTop(), $(window).off("scroll").on("scroll"), e.off("scroll").on("scroll"), n()
    }

    function n() {
        winW > 800 && $window.on("scroll", function() {
            winT = $(this).scrollTop(), d(), g(), ~H.indexOf("ie9") || (u(), p()), $(".partners").length && v()
        })
    }

    function s() {
        function e() {
            var e = imgLoaded / imgTotal * 100;
            if (current += .1 * (e - current), progressText = Math.floor(current).toString(10).replace(/^[0-9]$/, "0"), progress = current / 100, clip = 2 * current, s.text(Math.floor(progressText)), TweenLite.set($(".progress-logo-front"), {
                    css: {
                        clip: "rect(0," + clip + "px, 63px, 0)"
                    }
                }), current >= 100) {
                clearInterval(progressTimer), s.children().andSelf().contents().each(function() {
                    3 == this.nodeType && $(this).replaceWith($(this).text().replace(/(\S)/g, "<span>$1</span>"))
                });
                var a = new TimelineLite;
                a.to($(".progress-text span").eq(0), 1, {
                    css: {
                        transform: "translate3d(0, -320px, 0)",
                        autoAlpha: 0
                    },
                    ease: Quint.easeOut,
                    delay: .5
                }), a.to($(".progress-text span").eq(1), 1, {
                    css: {
                        transform: "translate3d(0, -320px, 0)",
                        autoAlpha: 0
                    },
                    ease: Quint.easeOut,
                    delay: -.9
                }), a.to($(".progress-text span").eq(2), 1, {
                    css: {
                        transform: "translate3d(0, -320px, 0)",
                        autoAlpha: 0
                    },
                    ease: Quint.easeOut,
                    delay: -.9
                }), a.to([t, n], .65, {
                    css: {
                        transform: "scale(1.15)",
                        autoAlpha: 0
                    },
                    ease: Power2.easeOut,
                    delay: -.75
                }), a.call(o, null, null, 1.5)
            }
            current > 99.9 && (current = 100)
        }
        a(), $body.find("[data-src]").each(function() {
            {
                var e = $(this),
                    t = e.attr("data-src");
                $("#js-wrapper").append('<img src="' + t + '" class="none bg-image">')
            }
        });
        var t = $("#js-loading"),
            n = ($("#js-progress"), $("#js-progress-logo")),
            s = $(".progress-text");

        // imgLoad = imagesLoaded("body"), imgTotal = imgLoad.images.length, imgLoaded = 0, current = 0, progressTimer = setInterval(e, 1e3 / 60), imgLoad.on("progress", function(e, t) {
            // imgLoaded++, imgLoaded == e.images.length && $body.find(".bg-image").remove()
        // })

    }

    function r() {
        function e() {
            var e = imgLoaded / imgTotal * 100;
            current += .1 * (e - current), progress = current / 100, TweenLite.to(a, 0, {
                css: {
                    transform: "scale(" + progress + ", 1)"
                },
                ease: Power1.easeInOut
            }), current >= 100 && (clearInterval(progressTimer), $(".page-loading").removeClass("is-running"), TweenLite.to(a, .5, {
                css: {
                    top: "-5px"
                },
                ease: Cubic.easeOut,
                onComplete: function() {
                    TweenLite.set(a, {
                        css: {
                            transform: "scale(0, 1)",
                            top: 0
                        }
                    })
                }
            })), current > 99.9 && (current = 100)
        }
        $body.find("[data-src]").each(function() {
            {
                var e = $(this),
                    t = e.attr("data-src");
                $("#js-wrapper").append('<img src="' + t + '" class="none bg-image">')
            }
        });
        var t = $("#js-mask");
        t.addClass("is-visible");
        var a = $("#js-page-progress");
        // imgLoad = imagesLoaded("body"), imgTotal = imgLoad.images.length, imgLoaded = 0, current = 0, progressTimer = setInterval(e, 1e3 / 60), imgLoad.on("progress", function(e, t) {
            // imgLoaded++, imgLoaded == e.images.length && $body.find(".bg-image").remove()
        // })
    }

    function o() {
        var e = $("#js-wrapper");
        e.is(".page-home") ? h() : e.is(".page-story") ? y() : e.is(".page-story-detail") ? x() : e.is(".page-works") ? O() : e.is(".page-works-detail") ? L() : e.is(".page-crew") ? b() : e.is(".page-about") ? A() : e.is(".page-service") ? k() : e.is(".page-company") ? Q() : e.is(".page-contact") ? W() : e.is(".page-recruit") ? M() : e.is(".page-author") ? F() : e.is(".page-notfound") && S()
    }

    function c() {
        winW = $(window).width(), winH = $(window).height(), winWH = winW / 2, winHH = winH / 2, $(".sidebar > .inner").css({
            height: winH - 80
        }), $(".topics-cat").length && T()
    }

    function l() {
        if ($(".intro-header").length) {
            $(".intro-header h1").children().andSelf().contents().each(function() {
                3 == this.nodeType && $(this).replaceWith($(this).text().replace(/(\S)/g, "<span>$1</span>"))
            });
            var e = $(".intro-header").height();
            TweenLite.set($(".intro-header"), {
                css: {
                    transform: "translate3d(0, -" + e / 2 + "px, 0)",
                    autoAlpha: 0
                }
            }), TweenLite.set($(".intro-header h1 span"), {
                css: {
                    transform: "scale(1.5)",
                    opacity: 0
                }
            })
        }
    }

    function d() {
        // var e = $("#js-point").position().top - 101;
        // winT > e ? $body.addClass("is-scrolled") : $body.removeClass("is-scrolled")
    }

    function p() {
        var e = $("#js-wrapper").find(".js-slidein");
        e.each(function(e) {
            var e = e + 1,
                t = $(this),
                a = parseInt(t.offset().top - 170, 10),
                n = 0;
            if (n + winH > a) {
                var s = !1;
                s !== !1 && clearTimeout(s), s = setTimeout(function() {
                    t.is(".is-animated") || (t.addClass("is-animated"), t.attr("data-top", a), TweenLite.to(t, .5, {
                        css: {
                            transform: "translate3d(0, 0, 0)",
                            autoAlpha: 1,
                            clearProps: "transform"
                        },
                        ease: Cubic.easeOut,
                        onComplete: function() {
                            t.removeClass("js-slidein")
                        }
                    }))
                }, 50 * e)
            }
        })
    }

    function u() {
        var e = $("#js-wrapper").find(".js-fadein");
        e.each(function(e) {
            var e = e + 1,
                t = $(this),
                a = t.offset().top - 170,
                n = 0;
            if (n + winH > a) {
                var s = !1;
                s !== !1 && clearTimeout(s), s = setTimeout(function() {
                    t.is(".is-animated") || (t.addClass("is-animated"), TweenLite.to(t, .5, {
                        css: {
                            autoAlpha: 1
                        },
                        ease: Cubic.easeOut,
                        onComplete: function() {
                            t.removeClass("js-fadein")
                        }
                    }))
                }, 50 * e)
            }
        })
    }

    function w() {
        TweenLite.set($("#js-sidebar ul > li"), {
            css: {
                transform: "translate3d(80px, 0, 0)",
                autoAlpha: 0
            }
        })
    }

    function f() {
        TweenLite.to($("#js-sidebar"), .5, {
            css: {
                transform: "translate3d(-260px, 0, 0)"
            },
            ease: Quint.easeInOut
        }), TweenLite.to($("#js-wrapper"), .5, {
            css: {
                transform: "translate3d(-130px, 0, 0)"
            },
            ease: Quint.easeInOut
        }), TweenMax.staggerTo($("#js-sidebar ul > li"), .65, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Quint.easeOut,
            delay: .35
        }, .035), TweenLite.to($("#js-sp-toggle .line-1"), .65, {
            css: {
                transform: "translate3d(0, 4px, 0) rotate(45deg)"
            },
            ease: Back.easeInOut
        }), TweenLite.to($("#js-sp-toggle .line-2"), .65, {
            css: {
                transform: "translate3d(100px, 0, 0) rotate(0)"
            },
            ease: Back.easeInOut
        }), TweenLite.to($("#js-sp-toggle .line-3"), .65, {
            css: {
                transform: "translate3d(0, -4px, 0) rotate(-45deg)"
            },
            ease: Back.easeInOut
        }), $("#js-mask").addClass("is-sidebar"), $("#js-wrapper").on("touchmove.noScroll", function(e) {
            e.preventDefault()
        }), openFlg = !0
    }

    function m() {
        TweenLite.to($("#js-sidebar"), .35, {
            css: {
                transform: "translate3d(0, 0, 0)"
            },
            ease: Quint.easeInOut,
            onComplete: w
        }), TweenLite.to($("#js-wrapper"), .35, {
            css: {
                transform: "translate3d(0, 0, 0)",
                clearProps: "all"
            },
            ease: Quint.easeInOut
        }), TweenLite.to([$("#js-sp-toggle .line-1"), $("#js-sp-toggle .line-2"), $("#js-sp-toggle .line-3")], .5, {
            css: {
                transform: "translate3d(0, 0, 0) rotate(0)"
            },
            ease: Back.easeInOut
        }), $("#js-mask").removeClass("is-sidebar"), $("#js-wrapper").off(".noScroll"), openFlg = !1
    }

    function h() {
        function e() {
            winW > 800 && (TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035), TweenLite.to($(".scroll-down .mouse"), 1, {
                css: {
                    height: "42px",
                    transform: "translate3d(0, 0, 0)",
                    autoAlpha: 1
                },
                delay: .5
            }), TweenLite.to($(".scroll-down .wheel"), 1, {
                css: {
                    height: "10px",
                    transform: "translate3d(0, 0, 0)",
                    autoAlpha: 1
                },
                delay: .8
            }), TweenLite.to($(".scroll-down span"), 1, {
                css: {
                    transform: "translate3d(0, 0, 0)",
                    autoAlpha: 1
                },
                delay: 1
            }), TweenLite.to($(".particles"), 1, {
                css: {
                    transform: "scale(1)",
                    autoAlpha: 1
                },
                ease: Circ.easeOut,
                delay: 2
            }))
        }

        function t() {
        	// alert( "You are running jQuery version: " + $.fn.jquery );
            TweenLite.to(a.eq(n), r, {
                css: {
                    transform: "scale(2)",
                    autoAlpha: 0,
                    clearProps: "transform"
                }
            }), n = ++n % a.length, TweenLite.to(a.eq(n), r, {
                css: {
                    autoAlpha: 1
                }
            }), TweenLite.delayedCall(s, t)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), v(), E || ~H.indexOf("ie9") || ($(".particles").html("").append("<canvas></canvas>"), canvasDots()), TweenLite.set($(".scroll-down span"), {
            css: {
                transform: "translate3d(0, -25px, 0)",
                autoAlpha: 0
            }
        }), TweenLite.set($(".scroll-down .wheel"), {
            css: {
                height: "30px",
                transform: "translate3d(0, -50px, 0)",
                autoAlpha: 0
            }
        }), TweenLite.set($(".scroll-down .mouse"), {
            css: {
                height: "84px",
                transform: "translate3d(0, -50px, 0)",
                autoAlpha: 0
            }
        }), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        });
        var a = $(".intro-header-bg"),
            n = 0,
            s = 5,
            r = 1.5;
        TweenLite.set(a.filter(":gt(0)"), {
            css: {
                autoAlpha: 0
            }
        }), TweenLite.delayedCall(s, t)
    }

    function g() {
        if (!E) {
            var e = (winH / 2, winT - .5 * winT),
                t = 1 - .001 * winT,
                a = 1 - .01 * winT;
            $(".intro-header-bg-wrap").css({
                transform: "translate3d(0, " + e + "px, 0)",
                opacity: t
            }), $(".scroll-down").length && $(".scroll-down").css({
                opacity: a
            })
        }
    }

    function v() {
        var e = $(".partners > ul > li");
        e.each(function(e) {
            var e = e + 1,
                t = $(this),
                a = $(".partners > ul").offset().top,
                n = 0;
            if (n + winH > a) {
                var s = !1;
                s !== !1 && clearTimeout(s), s = setTimeout(function() {
                    t.is(".is-animated") || (TweenLite.to(t, .35, {
                        css: {
                            transform: "translate3d(0, 0, 0)",
                            opacity: 1
                        },
                        ease: Cubic.easeOut
                    }), t.addClass("is-animated"))
                }, 35 * e)
            }
        })
    }

    function y() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function T() {
        $(".topics-cat").width(winW);
        var e = $(".topics-cat ul"),
            t = 0;
        $("> li", e).each(function() {
            $this = $(this);
            var e = $this.width() + 3.6;
            e = Math.round(e), t += e
        }), t > winW ? e.addClass("is-scroll") : e.removeClass("is-scroll"), e.width(t + 1.5)
    }

    function x() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function O() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function L() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function b() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), C(), I();
        var t = ($(".crew-list li").length, $("#js-crew li").length);
        $(".crew-num h2 span").html(t), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function C() {
        var e = $(".crew-detail-nav").height();
        $(".crew-detail-scroll").height(winH - e - 25)
    }

    function I() {
        crewJson = path + "/assets/json/crew.json?=" + (new Date).getTime(), crewFlg = !1, $(".crew-list li").on("click", function(e) {
            $this = $(this), TweenLite.to($("#js-sp-menu"), .25, {
                css: {
                    transform: "translate3d(50px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut
            });
            var t = $(this).attr("style");
            $("#js-render-image").attr({
                style: t
            });
            var a = $this.attr("data-crew");
            a = parseInt(a);
            var n = $(".crew-list li").length;
            1 == a ? ($(".crew-detail-nav .prev").attr({
                "data-crew": n
            }), $(".crew-detail-nav .next").attr({
                "data-crew": a + 1
            })) : a == n ? ($(".crew-detail-nav .prev").attr({
                "data-crew": a - 1
            }), $(".crew-detail-nav .next").attr({
                "data-crew": 1
            })) : ($(".crew-detail-nav .prev").attr({
                "data-crew": a - 1
            }), $(".crew-detail-nav .next").attr({
                "data-crew": a + 1
            })), $.ajax({
                url: crewJson,
                dataType: "json",
                success: function(e, t) {
                    if ($("#js-wrapper").is(".jp")) var n = e.crew_jp;
                    else if ($("#js-wrapper").is(".en")) var n = e.crew_en;
                    $("#js-render-name").html(n[a - 1].name), $("#js-render-job").html(n[a - 1].job), $("#js-render-policy").html(n[a - 1].policy), $("#js-render-comment").html(n[a - 1].comment)
                },
                complete: function() {
                    if (crewFlg) crewFlg = !1;
                    else {
                        var e = $("#js-crew-detail"),
                            t = $("#js-crew-detail").width();
                        TweenLite.set(e, {
                            css: {
                                transform: "translate3d(" + t + "px, 0, 0)",
                                autoAlpha: 1
                            }
                        }), TweenLite.to(e, .5, {
                            css: {
                                transform: "translate3d(0, 0, 0)",
                                autoAlpha: 1
                            },
                            ease: Quint.easeInOut,
                            delay: .35
                        }), TweenLite.to($("#js-crew-mask"), .5, {
                            css: {
                                autoAlpha: 1
                            },
                            ease: Power1.easeOut,
                            delay: 0
                        }), crewFlg = !0
                    }
                }
            }), $("#js-wrapper").on("touchmove.noScroll", function(e) {
                e.preventDefault()
            }), $("#js-crew-detail").on({
                touchstart: function() {
                    $("#js-wrapper").off("touchmove")
                },
                touchend: function() {
                    $("#js-wrapper").on("touchmove.noScrollInner", function(e) {
                        e.preventDefault()
                    })
                }
            })
        }), $("#js-crew-mask, #js-crew-close").on("click", function(e) {
            $this = $(this), TweenLite.to($("#js-sp-menu"), .25, {
                css: {
                    transform: "translate3d(0, 0, 0)",
                    autoAlpha: 1,
                    clearProps: "all"
                },
                ease: Quint.easeInOut
            });
            var t = $("#js-crew-detail"),
                a = $("#js-crew-detail").width();
            TweenLite.to(t, .35, {
                css: {
                    transform: "translate3d(" + a + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut,
                delay: 0
            }), TweenLite.to($("#js-crew-mask"), .35, {
                css: {
                    autoAlpha: 0
                },
                ease: Power3.easeOut,
                delay: 0
            }), crewFlg = !1, $("#js-wrapper").off("touchmove.noScroll"), $("#js-wrapper").off("touchmove.noScrollInner")
        }), $("#js-crew-prev").on("click", function(e) {
            $this = $(this);
            var t = $this.attr("data-crew");
            t = parseInt(t), crewNum = $(".crew-list li").length;
            var a = $("#js-crew-detail").width();
            TweenLite.to($("#js-render-image"), .45, {
                css: {
                    transform: "translate3d(" + a + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut
            }), TweenLite.to($(".crew-detail-wrap"), .45, {
                css: {
                    transform: "translate3d(" + a + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut,
                delay: .1,
                onComplete: function() {
                    $.ajax({
                        url: crewJson,
                        dataType: "json",
                        success: function(e, a) {
                            if ($("#js-wrapper").is(".jp")) var n = e.crew_jp;
                            else if ($("#js-wrapper").is(".en")) var n = e.crew_en;
                            $("#js-render-name").html(n[t - 1].name), $("#js-render-job").html(n[t - 1].job), $("#js-render-policy").html(n[t - 1].policy), $("#js-render-comment").html(n[t - 1].comment);
                            var s = "url(" + path + "/assets/img/crew/crew-" + t + "_2.jpg)";
                            TweenLite.set($("#js-render-image"), {
                                css: {
                                    "background-image": s
                                }
                            })
                        },
                        complete: function() {
                            1 == t ? ($(".crew-detail-nav .prev").attr({
                                "data-crew": crewNum
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": t + 1
                            })) : t == crewNum ? ($(".crew-detail-nav .prev").attr({
                                "data-crew": t - 1
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": 1
                            })) : ($(".crew-detail-nav .prev").attr({
                                "data-crew": t - 1
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": t + 1
                            })), TweenLite.set([$("#js-render-image, .crew-detail-wrap")], {
                                css: {
                                    transform: "translate3d(-" + a + "px, 0, 0)"
                                }
                            }), TweenLite.to($("#js-render-image"), .65, {
                                css: {
                                    transform: "translate3d(0, 0, 0)",
                                    autoAlpha: 1,
                                    clearProps: "transform"
                                },
                                ease: Quint.easeInOut
                            }), TweenLite.to($(".crew-detail-wrap"), .65, {
                                css: {
                                    transform: "translate3d(0, 0, 0)",
                                    autoAlpha: 1,
                                    clearProps: "transform"
                                },
                                ease: Quint.easeInOut,
                                delay: .1
                            })
                        }
                    })
                }
            })
        }), $("#js-crew-next").on("click", function(e) {
            $this = $(this);
            var t = $this.attr("data-crew");
            t = parseInt(t), crewNum = $(".crew-list li").length;
            var a = $("#js-crew-detail").width();
            TweenLite.to($("#js-render-image"), .45, {
                css: {
                    transform: "translate3d(-" + a + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut
            }), TweenLite.to($(".crew-detail-wrap"), .45, {
                css: {
                    transform: "translate3d(-" + a + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut,
                delay: .1,
                onComplete: function() {
                    $.ajax({
                        url: crewJson,
                        dataType: "json",
                        success: function(e, a) {
                            if ($("#js-wrapper").is(".jp")) var n = e.crew_jp;
                            else if ($("#js-wrapper").is(".en")) var n = e.crew_en;
                            $("#js-render-name").html(n[t - 1].name), $("#js-render-job").html(n[t - 1].job), $("#js-render-policy").html(n[t - 1].policy), $("#js-render-comment").html(n[t - 1].comment);
                            var s = "url(" + path + "/assets/img/crew/crew-" + t + "_2.jpg)";
                            TweenLite.set($("#js-render-image"), {
                                css: {
                                    "background-image": s
                                }
                            })
                        },
                        complete: function() {
                            1 == t ? ($(".crew-detail-nav .prev").attr({
                                "data-crew": crewNum
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": t + 1
                            })) : t == crewNum ? ($(".crew-detail-nav .prev").attr({
                                "data-crew": t - 1
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": 1
                            })) : ($(".crew-detail-nav .prev").attr({
                                "data-crew": t - 1
                            }), $(".crew-detail-nav .next").attr({
                                "data-crew": t + 1
                            })), TweenLite.set([$("#js-render-image, .crew-detail-wrap")], {
                                css: {
                                    transform: "translate3d(" + a + "px, 0, 0)"
                                }
                            }), TweenLite.to($("#js-render-image"), .65, {
                                css: {
                                    transform: "translate3d(0, 0, 0)",
                                    autoAlpha: 1,
                                    clearProps: "transform"
                                },
                                ease: Quint.easeInOut
                            }), TweenLite.to($(".crew-detail-wrap"), .65, {
                                css: {
                                    transform: "translate3d(0, 0, 0)",
                                    autoAlpha: 1,
                                    clearProps: "transform"
                                },
                                ease: Quint.easeInOut,
                                delay: .1
                            })
                        }
                    })
                }
            })
        })
    }

    function A() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function k() {
        function e() {
            TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function Q() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), _(), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function W() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), _(), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function _() {
        var e, t = new google.maps.LatLng(35.668242, 139.704026),
            a = "cool",
            n = [{
                stylers: [{
                    weight: 1.5
                }, {
                    hue: "#1839b7"
                }, {
                    saturation: 25
                }]
            }],
            s = {
                zoom: 16,
                scrollwheel: !1,
                mapTypeControl: !1,
                panControl: !1,
                zoomControl: !1,
                scaleControl: !1,
                streetViewControl: !1,
                center: t,
                mapTypeControlOptions: {
                    mapTypeIds: [google.maps.MapTypeId.ROADMAP, a]
                },
                mapTypeId: a
            };
        e = new google.maps.Map(document.getElementById("js-maps"), s);
        var r = {
                name: "sample"
            },
            o = new google.maps.StyledMapType(n, r);
        e.mapTypes.set(a, o);
        var i = {
            position: new google.maps.LatLng(35.668242, 139.704026),
            map: e,
            icon: new google.maps.MarkerImage(path + "/assets/img/pin.png")
        };
        i.icon.scaledSize = new google.maps.Size(50, 61);
        var c = new google.maps.Marker(i),
            l = new google.maps.InfoWindow({
                content: "ZEPPELIN, Inc."
            });
        google.maps.event.addListener(c, "click", function() {
            l.open(e, c)
        })
    }

    function M() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), P();
        var t, a = "WigeY4EkAGg";
        t = new YT.Player("js-youtube", {
            width: 1280,
            height: 720,
            videoId: a,
            playerVars: {
                showinfo: 0,
                autohide: 1,
                autoplay: 1,
                controls: 0,
                rel: 0,
                loop: 1
            },
            events: {
                onReady: function(e) {
                    t.playVideo()
                },
                onStateChange: function(e) {
                    e.data == YT.PlayerState.ENDED && t.playVideo()
                }
            }
        });
        var n, s = n = winW > 800 ? .9 : 0;
        TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: s,
            onComplete: e
        })
    }

    function P() {
        var e = $("#js-youtube"),
            t = winW + 120,
            a = winH + 120;
        e.css({
            width: t,
            height: a,
            "margin-top": -a / 2,
            "margin-left": -t / 2
        })
    }

    function F() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), T(), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function S() {
        function e() {
            winW > 800 && TweenMax.staggerTo($(".intro-header h1 span"), 1, {
                css: {
                    transform: "scale(1)",
                    opacity: 1
                },
                ease: Quint.easeOut,
                delay: 0
            }, .035)
        }
        d(), ~H.indexOf("ie9") || (u(), p()), T(), TweenLite.to($(".intro-header"), .5, {
            css: {
                transform: "translate3d(0, 0, 0)",
                autoAlpha: 1
            },
            ease: Cubic.easeOut,
            delay: 0,
            onComplete: e
        })
    }

    function N() {
        $(window).off("scroll").on("scroll"), $window.off("scroll").on("scroll"), popFlg = !1, openFlg ? (m(), setTimeout(function() {
            r(), $(".page-loading").addClass("is-running"), TweenLite.to($window, 1, {
                scrollTo: {
                    y: 0
                },
                ease: Quint.easeInOut
            }), TweenLite.to($("#js-container"), 1, {
                css: {
                    opacity: 0
                },
                ease: Cubic.easeOut
            })
        }, 300)) : (r(), $(".page-loading").addClass("is-running"), TweenLite.to($window, 1, {
            scrollTo: {
                y: 0
            },
            ease: Quint.easeInOut
        }), TweenLite.to($("#js-container"), 1, {
            css: {
                opacity: 0
            },
            ease: Cubic.easeOut
        }))
    }

    function D() {
        if (popFlg = !1, openFlg && m(), crewFlg) {
            TweenLite.to($("#js-sp-menu"), .25, {
                css: {
                    transform: "translate3d(0, 0, 0)",
                    autoAlpha: 1,
                    clearProps: "all"
                },
                ease: Quint.easeInOut
            });
            var e = $("#js-crew-detail"),
                t = $("#js-crew-detail").width();
            TweenLite.to(e, .35, {
                css: {
                    transform: "translate3d(" + t + "px, 0, 0)",
                    autoAlpha: 0
                },
                ease: Quint.easeInOut,
                delay: 0
            }), TweenLite.to($("#js-crew-mask"), .35, {
                css: {
                    autoAlpha: 0
                },
                ease: Power3.easeOut,
                delay: 0
            }), crewFlg = !1
        }
        $(window).off("pjax:load"), $("#js-page-loading").addClass("is-running"), TweenLite.to($window, .5, {
            scrollTo: {
                y: 0
            },
            ease: Quint.easeInOut
        }), TweenLite.to($("#js-container"), .5, {
            css: {
                opacity: 0
            },
            ease: Cubic.easeOut,
            delay: 0
        }), $(window).on(function() {
            var e = $("#js-container");
            e.off().on(), $("#js-page-loading").removeClass("is-running"), a();
            var t = $("#js-mask");
            t.removeClass("is-visible");
            var n = new TimelineLite;
            if (n.to($("#js-container"), 1, {
                    css: {
                        opacity: 1
                    },
                    ease: Cubic.easeOut,
                    delay: .55
                }), n.call(o, null, null, 0), serviceNo) {
                var s = "#js-service-" + serviceNo;
                if (winW > 800) var r = $(s).offset().top - 350;
                else var r = $(s).offset().top;
                TweenLite.to(e, 1, {
                    scrollTo: {
                        y: r
                    },
                    ease: Quint.easeInOut
                }), serviceNo = !1
            }
        })
    }
    TweenLite.defaultEase = Quint.easeInOut, path = document.body.getAttribute("data-path"), $window = $("#js-container"), $html = $("html"), $body = $("body"), winW = $(window).width(), winH = $(window).height();
    var H = e(),
        E = t();
    $(document).on("click", ".share-link", function(e) {
        e.preventDefault();
        var t = $(this).attr("data-href");
        window.open(t, "")
    }), $html.addClass(H).addClass(E), H.indexOf("ie9") || ($body.find(".js-slidein").removeClass("js-slidein"), $body.find(".js-fadein").removeClass("js-fadein")), s();
    var q = !1;
    $(window).on("resize", function() {
        q !== !1 && clearTimeout(q), q = setTimeout(function() {
            c(), ~H.indexOf("ie9") || (u(), p()), winW > 990 && openFlg && m();
            var e = $("#js-wrapper");
            e.is(".page-home") || (e.is(".page-story") ? T() : e.is(".page-story-detail") || e.is(".page-works") || e.is(".page-works-detail") || (e.is(".page-crew") ? C() : e.is(".page-about") || e.is(".page-service") || e.is(".page-company") || e.is(".page-contact") || (e.is(".page-recruit") ? P() : e.is(".page-author"))))
        }, 100)
    }), openFlg = !1, E ? $(document).on("touchend", "#js-sp-menu, #js-mask.is-sidebar", function(e) {
        e.preventDefault(), openFlg ? openFlg && m() : f()
    }) : $(document).on("click", "#js-sp-menu, #js-mask.is-sidebar", function(e) {
        e.preventDefault(), openFlg ? openFlg && m() : f()
    }), w(), popFlg = !1, $(document).on("pjax:fetch", function() {
        if ($("#js-wrapper").is(".page-home") && !E) {
            clearInterval(anim);
            var e = document.querySelector("canvas");
            ctx = e.getContext("2d"), ctx.clearRect(0, 0, winW, winH), ctx.beginPath()
        }
        popFlg = !1, $(window).on("popstate", function(e) {
            popFlg = !0, !e.originalEvent.state
        }), setTimeout(function() {
            popFlg ? D() : N()
        }, 10)
    }), $(window).load(function() {
    	
        a();
        var e = $("#js-mask");
        if (e.removeClass("is-visible"), TweenLite.to($("#js-container"), .5, {
                css: {
                    opacity: 1
                },
                ease: Cubic.easeOut,
                onComplete: o
            }), serviceNo) {
            var t = "#js-service-" + serviceNo;
            if (winW > 800) var n = $(t).offset().top - 350;
            else var n = $(t).offset().top;
            TweenLite.to($window, 1, {
                scrollTo: {
                    y: n
                },
                ease: Quint.easeInOut
            }), serviceNo = !1
        }
    }), serviceNo = !1, $(document).on("click", ".intro-service a", function() {
        $this = $(this), serviceNo = $this.attr("data-service")
    }), canvasDots = function() {

        function e() {
            this.x = Math.random() * t.width, this.y = Math.random() * t.height, this.vx = -.5 + Math.random(), this.vy = -.5 + Math.random(), this.radius = Math.random()
        }
        var t = document.querySelector("canvas"),
            a = t.getContext("2d"),
            n = "#ffffff",
            s = "#ffffff";
        t.width = $(".particles").width(), t.height = $(".particles").height(), t.style.display = "block", a.fillStyle = n, a.lineWidth = .1, a.strokeStyle = s;
        var r = {
                x: 30 * t.width / 100,
                y: 30 * t.height / 100
            },
            o = {
                nb: 400,
                distance: 60,
                d_radius: 100,
                array: []

            };
        e.prototype = {
            create: function() {
                a.beginPath(), a.arc(this.x, this.y, this.radius, 0, 2 * Math.PI, !1), a.fill()
            },
            animate: function() {
                for (i = 0; i < o.nb; i++) {
                    var e = o.array[i];
                    e.y < 0 || e.y > t.height ? (e.vx = e.vx, e.vy = -e.vy) : (e.x < 0 || e.x > t.width) && (e.vx = -e.vx, e.vy = e.vy), e.x += e.vx, e.y += e.vy
                }
            },
            line: function() {
                for (i = 0; i < o.nb; i++)
                    for (j = 0; j < o.nb; j++) i_dot = o.array[i], j_dot = o.array[j], i_dot.x - j_dot.x < o.distance && i_dot.y - j_dot.y < o.distance && i_dot.x - j_dot.x > -o.distance && i_dot.y - j_dot.y > -o.distance && i_dot.x - r.x < o.d_radius && i_dot.y - r.y < o.d_radius && i_dot.x - r.x > -o.d_radius && i_dot.y - r.y > -o.d_radius && (a.beginPath(), a.moveTo(i_dot.x, i_dot.y), a.lineTo(j_dot.x, j_dot.y), a.stroke(), a.closePath())
            }
        }, createDots = function() {
            for (a.clearRect(0, 0, t.width, t.height), i = 0; i < o.nb; i++) o.array.push(new e), dot = o.array[i], dot.create();
            dot.line(), dot.animate()
        }, window.onmousemove = function(e) {
            r.x = e.pageX, r.y = e.pageY
        }, r.x = window.innerWidth / 2, r.y = window.innerHeight / 2, anim = setInterval(createDots, 1e3 / 30)
    }, $(document).on("click", 'a[href^="#"]', function(e) {
        e.preventDefault();
        var t = $(this).attr("href"),
            a = 0,
            n = $(t).position().top - a - 100;
        TweenLite.to($window, 1, {
            scrollTo: {
                y: n
            },
            ease: Quint.easeInOut
        })
    })
});


